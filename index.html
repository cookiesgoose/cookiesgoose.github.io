<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Song List</title>
    <style>
div {
  width:auto;
  margin:auto;
}
        img {
            max-width: 100%;
            max-height: 100%;
}
        body {     font-family: 'Open Sans';font-size: 22px;font-style: italic;
    }
        .artist { margin-top: 20px; }
        .artist h2 {
            color: #414344;          /* Set link color to black */
            text-decoration: none; /* Remove underline */
        }
        .song { margin-left: 20px; }
        /* Style for the song links */
        .song a {
            color: #414344;          /* Set link color to black */
            text-decoration: none; /* Remove underline */
        }

    </style>
</head>
<body style="background-color: #F4EFEF;">
    <div><img src="requestmenuheader.png"></div>
    <div>Click any of the song titles below to open venmo and leave a tip! If you have a request that’s not on the list, send it to us using the links below and we’ll try our best to play it or something similar. Thank you for your support!
    </div>

    <div id="song-list"></div>
    
    

    <script>
        // Fetch and render the song list
        fetch('songs.json')
            .then(response => response.json())
            .then(data => renderSongs(data));

            function renderSongs(songs) {
    const baseURL = "venmo://paycharge?txn=pay&recipients=jonguo&amount=20&note=";
    const groupedSongs = songs.reduce((acc, song) => {
        if (!acc[song.artist]) {
            acc[song.artist] = [];
        }
        acc[song.artist].push(song);
        return acc;
    }, {});

    const container = document.getElementById('song-list');
    for (const artist in groupedSongs) {
        const artistDiv = document.createElement('div');
        artistDiv.classList.add('artist');
        artistDiv.innerHTML = `<h2>${artist}</h2>`;

        groupedSongs[artist].forEach(song => {
            const encodedTitle = encodeURIComponent(song.title); // Encode the title
            const songDiv = document.createElement('div');
            songDiv.classList.add('song');
            songDiv.innerHTML = `<a href="${baseURL}${encodedTitle}" target="_blank">${song.title}</a>`;
            artistDiv.appendChild(songDiv);
        });
        container.appendChild(artistDiv);
    }
}

    </script>
</body>
</html>
